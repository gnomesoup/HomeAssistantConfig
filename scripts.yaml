#routine for early morning
marydisarm:
  alias: Turn off Mary related alarms
  sequence:
    - service: input_boolean.turn_off
      data:
        entity_id:
          - input_boolean.mary_alert
    - service: input_boolean.turn_on
      data:
        entity_id:
          - input_boolean.mary_alert_suppress

makecoffee:
  alias: Make the Coffee
  sequence:
    - service: light.turn_on
      data:
        brightness: 255
        entity_id:
          - light.aeotec_entry_light
          - light.pop_socket_light
          - light.aeotec_kitchen_counter_light
          - light.aeotec_bathroom_light
    - service: input_select.select_option
      data:
        entity_id: input_select.home_mode
        option: "Quiet"
    - service: media_player.volume_set
      data:
        entity_id: media_player.living_room_speaker
        volume_level: 0.8
    - service: media_player.volume_set
      data:
        entity_id: media_player.denon
        volume_level: 0.5

# routine for wakeup
goodmorning:
  alias: Good Morning
  sequence:
    - service: light.turn_on
      data:
        entity_id:
          - group.lights
        brightness: 255
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_living_room_cooling_setpoint
        - climate.gocontrol_thermostat_living_room_heating_setpoint
      data_template:
        fan_mode: >-
          {% if is_state("input_select.hvac_mode", "cooling") %}
            On Low
          {% else %}
            Auto Low
          {% endif %}
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_bedroom_cooling
        - climate.gocontrol_thermostat_bedroom_heating
      data:
        fan_mode: "Auto Low"
    - service: input_select.select_option
      data:
        entity_id: input_select.home_mode
        option: "Normal"
    - service: media_player.volume_set
      data:
        entity_id: media_player.living_room_speaker
        volume_level: 0.8
    - service: media_player.volume_set
      data:
        entity_id: media_player.denon
        volume_level: 0.7
    - service: media_player.volume_set
      data:
        entity_id: media_player.bedroom_speaker
        volume_level: 0.8
    - service: notify.notify
      data:
        message: "Good Morning routine ran"

#routine for leaving
goodbye:
  alias: Goodbye
  sequence:
    - service: light.turn_off
      data:
        entity_id:
          - group.lights
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_living_room_cooling_setpoint
        - climate.gocontrol_thermostat_living_room_heating_setpoint
        - climate.gocontrol_thermostat_bedroom_cooling
        - climate.gocontrol_thermostat_bedroom_heating
      data:
        fan_mode: "Auto Low"
    - service: input_select.select_option
      data:
        entity_id: input_select.presence
        option: "Away"
    - service: media_player.media_stop
      data:
        entity_id: group.media
    - service: notify.notify
      data:
        message: "Goodbye"

#routine for arriving
imback:
  alias: I'm Back
  sequence:
    - service: light.turn_on
      data:
        brightness: 255
        entity_id:
          - group.living_room
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_living_room_cooling_setpoint
        - climate.gocontrol_thermostat_living_room_heating_setpoint
      data_template:
        fan_mode: >-
          {% if is_state("input_select.hvac_mode", "cooling") %}
            On Low
          {% else %}
            Auto Low
          {% endif %}
    - service: input_select.select_option
      data:
        entity_id: input_select.presence
        option: "Home"
    - service: notify.notify
      data:
        message: "Welcome Home"

# routine for camille's bedtime
bedtime:
  alias: Good Night Camille
  sequence:
    - service: light.turn_off
      data:
        entity_id: group.Bedroom
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_bedroom_cooling
        - climate.gocontrol_thermostat_bedroom_heating
      data_template:
        fan_mode: >-
          {% if is_state("input_select.hvac_mode", "cooling") %}
            On Low
          {% else %}
            Auto Low
          {% endif %}
    - service: input_select.select_option
      data:
        entity_id: input_select.home_mode
        option: "Quiet"
    - service: media_player.volume_set
      data:
        entity_id: media_player.bedroom_speaker
        volume_level: 0.2
    - service: notify.notify
      data:
        message: "Bedtime for Camille"

#routine for evenings
getmellowed:
  alias: Get Mellowed
  sequence:
    - service: light.turn_off
      data:
        entity_id:
          - light.entry_light
          - light.pop_socket_light
          - light.metal_lamp
          - light.closet_light
          - light.hallway_light
    - service: light.turn_on
      data:
        brightness: 65
        entity_id:
          - light.grandmas_lamp
          - light.bathroom_light
    - service: light.turn_on
      data:
        brightness: 30
        entity_id:
          - light.aeotec_kitchen_counter_light
    - service: input_select.select_option
      data:
        entity_id: input_select.home_mode
        option: "Normal"
    - service: media_player.volume_set
      data:
        entity_id: media_player.living_room_speaker
        volume_level: 0.3
    - service: media_player.volume_set
      data:
        entity_id: media_player.denon
        volume_level: 0.3
    - service: notify.notify
      data:
        message: "Getting mellowed routine ran"

#routine for the nighttime
goodnight:
  alias: Goodnight
  sequence:
    - service: light.turn_off
      data:
        entity_id:
          - group.lights
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_living_room_cooling_setpoint
        - climate.gocontrol_thermostat_living_room_heating_setpoint
      data:
        fan_mode: "Auto Low"
    - service: climate.set_fan_mode
      entity_id:
        - climate.gocontrol_thermostat_bedroom_cooling
        - climate.gocontrol_thermostat_bedroom_heating
      data_template:
        fan_mode: >-
          {% if is_state("input_select.hvac_mode", "cooling") %}
            On Low
          {% else %}
            Auto Low
          {% endif %}
    - service: input_select.select_option
      data:
        entity_id: input_select.home_mode
        option: "Sleep"
    - service: media_player.volume_set
      data:
        entity_id: media_player.living_room_speaker
        volume_level: 0.3
    - service: media_player.volume_set
      data:
        entity_id: media_player.denon
        volume_level: 0.3
    - service: media_player.media_stop
      data:
        entity_id: group.media
    - service: notify.notify
      data:
        message: "Sleep tight! Good Night routine ran"
